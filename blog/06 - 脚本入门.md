- 脚本是什么？（why）
- 为什么要学脚本？（what）
- 怎么学脚本？（how）

## 脚本是什么?

脚本原本来自戏剧舞台，脚本主要由人物对话和舞台提示组成。演员和道具组只需要按照脚本说的做即可。

脚本就是给计算机照着做的。这是我们对「脚本」的一个感性认识。

## 为什么学习脚本？

个人认为，学习脚本，可以**简化操作**，直接执行脚本，然后生成相应的文件夹。

## 怎么学习脚本？

先来写一个**最简单的脚本**吧！！！

1. 找个地方新建文件，创建一个~/local 目录和创建一个demo.txt
   - `mkdir ~local`
   - `cd ~/local`
   - `touch demo.txt`

2. 在Git Bash上面输入`start demo.txt`，打开默认的编辑器，当然也可以找到那个文件，然后打开它
3. 编辑demo.txt，内容如下：

**注：目录和文件应该分别创建，其中目录如果是嵌套的，那就加个-p，创建文件应该把路径完整写上去**

```
 pwd # 确认一下当前路径是不是 ~/local 或者 /c/Users/你的名字/local
 mkdir demo
 cd demo
 mkdir css js
 touch index.html css/style.css js/main.js
 exit
```

4. ` chmod +x ~/local/demo.txt`**(这个可以先不写，等到命令行提示没有权限的时候再写也可以，这样更符合习惯)**

5. 进入你想要去的目录，比如`cd ~/Desktop`，输入 `sh ~/local/demo.txt` 就可以创建一个最简单的前端必要目录。你会发现在当前目录上多出一个 demo 目录，demo 目录里面还有一些文件。这个 demo.txt 就是你写出的第一个 **Bash 脚本**了。

### 脚本优化

1. 每次为了创建一个目录，都要输入`sh ~/local/demo.txt`，能省则省，我能不能直接运行`demo.txt`，就可以创建自己想要的目录。

- 将`~/local`添加到PATH里面，永久设置PATH

   - `cd ~/local;pwd`，以便获得local的绝对路径，方便下一步使用
   - 创建 `~/.bashrc`：`touch ~/.bashrc`（我知道你是没有这个文件的，按下面的步骤操作吧）
   - 编辑 `~/.bashrc`：`start ~/.bashrc`，打开默认的编辑器，当然也可以找到那个文件，然后打开它
   - 在编辑器了输入`export PATH="把这段文字换成local的绝对路径哈哈:$PATH"`
   - `source ~/.bashrc` **(凡是~/.bashrc文件被修改，必须写这个命令行)**
   - 现在，你可以直接用`demo.txt`(也可以是`sh demo.txt`)代替 `sh ~/local/demo.txt`，为什么？

注：原因如下

解释1：因为对于 ls 命令行来说，他会在*$PATH路径上寻找相应的名为 ls.sh 的文件，如果找到了，那么就执行文件的内容*，我们看上去就是在执行了 ls 命令一样。（**执行 demo.txt 等于执行某路径的 demo.txt 文件**）

那么相应的，执行 demo.txt 命令，实际上就是**在 PATH 路径上寻找 demo.txt ，而我在第4步的时候，就已经把 ~/local/demo.txt 的～/local** 放到 $PATH 上。

解释2：$PATH是一堆绝对路径的集合，每次输入命令（如 ls 和 demo.txt ）试都会与这堆路径结合，看能不能找到对应的文件，然后执行。

2. demo.txt 的后缀 .txt 没什么用，直接demo不更好吗？

- `mv ~/local/demo.txt ~/local/demo`
- 现在你只要运行 `demo` 就能执行该脚本了。

3. 我们让目录名是可变的吧，根据自己来决定

- 将原来的代码修改成如下的代码

```
mkdir $1
cd $1
mkdir css js
touch index.html css/style.css js/main.js
exit
```

注：Google搜索bash first argument即可

4. 能不能在产生目录的时候，提前帮我看下该目录是否存在，如果存在，就在终端输出”你有毒，为什么要重复产生目录“，并且将该错误记为1错误，你可以在你的工作日志上约定好1错误指的是重复错误

```
if [ -d $1 ]; then
  echo '你有毒，为什么要重复产生目录'
  exit 1
else
 mkdir $1 
 cd $1
 mkdir css js 
 touch index.html css/style.css js/main.js
  exit 0
fi
```



